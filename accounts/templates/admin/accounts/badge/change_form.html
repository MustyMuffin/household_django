{% extends "admin/change_form.html" %}
{% load static %}

{% block extrahead %}
  {{ block.super }}
  {{ media }}
  <script>
    console.log("‚úÖ Custom change_form.html loaded");

    // Debug the variables being passed
    const initialMilestone = "{{ adminform.form.initial.milestone_type|escapejs }}";
    const milestoneURL = "{% url 'admin:accounts_badge_milestone_options' %}";

    console.log("‚û°Ô∏è Initial milestone:", initialMilestone);
    console.log("‚û°Ô∏è Milestone URL:", milestoneURL);

    // Make them available to JS
    window.badgeMilestoneInitial = initialMilestone;
    window.badgeMilestoneURL = milestoneURL;
  </script>
  <script src="{% static 'admin/js/badge_dynamic.js' %}"></script>
{% endblock %}

{% block content_title %}
  <h1>üéØ Badge Edit Page (Custom Template)</h1>
  {{ block.super }}
{% endblock %}
